# Reconciliation

이 글에서는 어떻게 리액트가 동작하는지에 대한 설명을 한다.

## Motivation

리액트를 이용할 때, render 함수가 리액트 엘리먼트 트리를 만든다는 것을 알고 있다.  
그리고 state나 props가 바뀌면 또 다시 render 함수가 다른 트리를 만들 것이라는 것도 알고 있다.  
그러면 리액트가 고민해야할 부분은 어떻게 이것을 효과적으로 업데이트 할 것이냐 하는 것이다.

몇몇 일반적인 해결책이 있다. 하지만 그런 해결책은 O^3의 복잡도를 나타낸다.  
대신에 리액트는 휴리스틱 알고리즘을 사용해서 O(n)의 시간 복잡도로 알고리즘을 구현했다.  
이것은 2가지 가정을 가진다.

1. 두가지 다른 타입의 엘리먼트는 다른 트리를 만들 것이다.
2. 개발자가 key prop을 통해, 여러 렌더링 사이에서 어떤 자식 엘리먼트가 변경되지 않아야 할지 표시해 줄 수 있다.

<br>

## The Diffing Algorithm

두 개의 트리를 비교할 때, React는 두 엘리먼트의 루트(root) 엘리먼트부터 비교한다.  
이후의 동작은 루트 엘리먼트의 타입에 따라 달라진다.
