# 프로미스는 웹워커에서 사용할 수 있다. 웹워커는 무엇인가?

- 스크립트 연산을 웹 어플리케이션의 주 실행 스레드와 분리된 별도의 백그라운드 스레드에서 실행할 수 있는 기술

- 자바스크립트는 싱글스레드이지만, 브라우저는 싱글 스레드가 아니다.

- 웹워커를 이용하면 분리된 스레드를 생성할 수 있다. 이것을 통해서 메인 스레드에서 이루어지는 렌더링 작업등을 방해하지 않을 수 있다.

[참고 : https://d2.naver.com/helloworld/2922312]

<br>

# 브라우저의 전체적인 구조

1.User Interface : 사용자와 인터렉션이 있는 모든 부분
2.Browser engine : rendering 엔진과 UI 사이에서 명령하는 역할
3.Rendering engine : 핵심기능은 요청된 content를 display하는 것이다.
4.User Interface backend : 이미지나 combo box 같은 것을 painting 할 때 사용된다. 내부적으로는 운영체제에 의해서 동작된다.
5.JS Interpreter : 내장 interpreter에 의해서 모든 종류의 script가 parse 된다.
6.Networking : HTTP 리퀘스트를 수행한다.  
7.Data Storage : 웹저장소

<br>

# 브라우저 동작의 큰 흐름

1. network 파트에서 rendering 엔진에게 요청받은 document를 넘겨준다.
2. rendering 엔진에 의해서 HTML element가 dom nodes로 parse된다. 이것을 토대로 content tree가 만들어진다.
3. 특징 치수와 색깔의 rectangle이 rendered tree에 정렬된다.
4. rendered tree가 만들어지고 나면, 각각의 노드들은 화면에 표시되어야 할 정확한 좌표를 받게 된다.
5. 마지막은 painting이다. 렌더트리의 각각 노드들은 backend layer에 적힌 코드대로 디자인 될 것이다. painting은 다음의 순서를 따른다.
   1)background color가 가장 먼저 칠해진다.
   2)background image가 즉시 따라온다.
   3)border가 할당된다.
   4)children이 쌓인다.
   5)page의 outline이 생성된다.
