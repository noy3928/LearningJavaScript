# for-in문과 for-of문으로 반복문을 정리하라

반복문의 명료성을 유지하는 방법을 알아보자. 

<br>

## for - of 문

for-of문은 특별하다.  이터레이터를 사용할 수 있다. 색인을 반복하지 않는다는 점을 제외하면, for문과 아주 유사하다. 
for-of문을 사용하면 특수한 객체를 배열로 변환하는 대신, for문과 동일한 개념을 사용하면서 색인에 대한 참조를 제거할 수 있다. 
배열 메서드에서 사용했던 콜백 메서드도 효과적으로 사용할 수 있다. 

<pre>
<code>
for(const firm of firms){
    const [id, name] = firm;
    if(!isAvailale(id)){
        return `${name}는 사용할 수 없습니다.`
    }
}
return `모든 회사를 사용할 수 있습니다.`
</code>
</pre>

몇가지 부분이 주목할만하다.
* 변수 firm을 const로 선언했다. 
    * 이 변수는 반복문 밖에서는 존재하지 않는다. 
* 개별 항목을 직접 다룬다. 
    * for 문에서 entries[i]로 컬렉션 전체를 참조하던 방식에서 벗어날 수 있다. 
    * 마치 배열 메서드의 콜백 함수와 for문을 조합한 것과 같다. 

이것의 단점은 무엇일까? 
* 반복문으로 무엇이든 할 수 있기 떄문에, 예측 가능성이 줄어든다. 

for-of문은 반드시 필요할 때만 사용하는 것이 좋다. 

<br>

## for - in 문

또 다른 반복문이 있다. 
for-in 문이다. 

이것은 객체에 필요한 작업을 직접 실행하기 때문에 Object.keys()를 실행해서 객체의 키를 배열로 변환하는 과정을 생략할 수 없다. 
더 정확히 말하면 객체의 속성을 순회한다. 

자바스크립트의 객체에는 문제점이 있다.
객체는 프로토타입 체인에 있는 다른 객체에서 속성을 상속받고 있다. 
게다가 객체에는 열거할 수 없는 속성이 잇어 순회에서 제외되기도 한다. 

즉, 객체는 단순한 녀석이 아니다. 

우리는 단순하게만 사용해보려한다. 

<pre>
<code>
const firms = {
    '10' : 'Ivie Group',
    '23' : 'Soundscaping Source',
    '31' : 'Big 6'
}
</code>
</pre>

for-in문을 사용할 때는 각 항목을 한 번에 하나씩만 받는다. for-of문과 다르게 값을 받는 것이 아니므로, 매번 키를 이용해서 전체 컬렉션을 참조해야 한다. 

<pre>
<code>
for(const id in firms){
    if(!isAvailable(parseInt(id, 10))){
        return `${firms[id]}는 사용할 수 없습니다. `
    }
}
return '모든 회사를 사용할 수 있습니다'
</code>
</pre>

키-값 쌍이 아니라 속성을 가져오기 떄문에 이름과 값을 따로 추출할 필요가 없다. 값이 필요할 때마다 배열 표기법으로 개별 항목의 값을 가져올 수 있다. 이 경우 키를 정수로 사용하려면 parseInt()를 사용해서 변환해야 한다. 이처럼 객체의 키에는 미묘한 변환이 있어 혼란스러울 수 있다. 

for-of 문과 마찬가지로 for-in 문도 무조건 사용하지 말고 사용이 적절한 경우에만 선택하는 것이 좋다. 
키만 필요한 경우에는 배열 메서드를 사용하기 전에 Object.keys()로 키를 가져오는 것이 더 나을수도 있다. 값만 필요한 경우에도 마찬가지다. 
흔히 있는 일은 아니지만 Object.values()로 값만 모아서 배열로 변환할 수 있다. 




    