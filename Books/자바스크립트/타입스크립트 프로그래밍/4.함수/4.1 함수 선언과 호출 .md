# 4.1 함수 선언과 호출 

자바스크립트에서 함수는 일급객체이다.  
즉, 객체를 다루듯이 함수를 변수에 할당하거나,  
함수를 다른 함수로 전달하거나,  
함수에서 함수를 반환하거나,  
객체와 프로토타입에 할당하거나,  
함수에 프로퍼티를 기록하거나,  
함수에 기록된 프로퍼티를 읽는 등의 작업을 할 수 있다.  

<br>

자바스크립트에서는 함수로 할 수 있는 일이 정말 많은데,  
덕분에 타입스크립트는 이 모든 것을 자신의 풍부한 타입 시스템에 녹여냈다.  

다음은 예시  

<pre>
<code>
function add(a: number, b: number){
    return a + b 
}
</code>
</pre>

매개변수 타입은 특정한 상황이 아니면, 타입추론을 하지 않는다.  
보통은 반환 타입을 추론한다.  

타입스크립트는 함수 생성자를 제외한 모든 문법을 안전하게 지원하며,  
이 모든 문법은 보통 매개변수 타입의 필수 어노테이션,  
반환 타입의 선택형 어노테이션에 적용하는 것과 같은 규칙을 따른다.  

> 간단한 용어소개 
>> 매개변수는(parameter) 함수 선언의 일부이며 함수를 실행하는 데 필요한 데이터 조각이다.  정형 매개변수라고도 부른다.(formal parameter).
>> 인수(argument)는 함수를 호출할 때 전달해야 하는 데이터 조각이다. 실질 매개변수라고도 부른다.  


<br>

## 4.1.1 선택적 매개변수와 기본 매개변수 

객체와 튜플 타입에서처럼 함수에서도 ?를 이용해 선택적 매개변수를 지정할 수 있다.  

<br>

## 4.1.2 나머지 매개변수  

인수를 여러개 받는 함수라면 그 목록을 배열 형태로 건넬 수도 있다.  

<pre>
<code>
function sum(numbers: number[]) : number {
    return numbers.reduce((total, n) => tatal + n, 0)
}
</code>
</pre>

때로는 고정 인자 API가 아니라 가변 인자 API가 필요할 때도 있다.  
전통적으로 자바스크립트는 요술 같은 arguments 객체를 통해 이 기능을 제공했다.  

자바스크립트 런타임이 함수에 자동으로 arguments를 정의해 개발자가 함수로 전달한  
인수 목록을 할당한다는 점에서 '요술' 같은 일이다.  

arguments는 일종의 배열이므로 .reduce 같은 내장 기능을 사용하려면  
먼저 진짜 배열로 변환해야 한다.  

<pre>
<code>
function sumVariadic() : number {
    return Array
        .from(arguments)
        .reduce((total, n) => total + n, 0)
}

sumVariadic(1,2,3) // 6으로 평가 
</code>
</pre>

하지만 arguments에는 한 가지 큰 문제가 있다.  
전혀 안전하지 않다는 점이다! 무엇이?  
타입스크립트는 n과 total 모두를 any 타입으로 추론한다.  
그래서 이 함수를 사용하려하면,  
0개의 인수가 필요한데 3개의 인수가 제공되었다는 에러 메시지가 나온다.  

<br>

그럼 어떻게 하면 안전한 타입의 가변 인수 함수를 만들 수 있을까?  
나머지 매개변수로 이 문제를 해결할 수 있다.  
안전하지 않은 arguments를 사용하는 대신 나머지 매개변수를 이용해  
sum 함수가 안전하게 임의의 인수를 받게 만든다.  

<pre>
<code>
function sumVariadicSafe(...numbers: number[]) : number {
    return numbers.reduce((total, n) => total + n, 0)
}
</code>
</pre>

이제 타입 안정성이 갖춰졌다.  



